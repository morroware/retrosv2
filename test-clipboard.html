<!DOCTYPE html>
<html>
<head>
    <title>Clipboard Test</title>
</head>
<body>
    <h1>RetrOS Clipboard Test</h1>
    <p>Open browser console to see clipboard state</p>
    <ol>
        <li>Right-click a file on desktop</li>
        <li>Click Copy</li>
        <li>Check console - should see clipboard populated</li>
        <li>Right-click empty space on desktop</li>
        <li>Paste option should be enabled</li>
        <li>Right-click empty space in MyComputer</li>
        <li>Paste option should also be enabled there</li>
    </ol>

    <script type="module">
        // Monitor clipboard changes
        import EventBus from './core/EventBus.js';

        EventBus.on('clipboard:changed', (data) => {
            console.log('====== CLIPBOARD CHANGED ======');
            console.log('Operation:', data.operation);
            console.log('Count:', data.count);

            // Get current clipboard state
            import('./ui/ContextMenuRenderer.js').then(module => {
                const ContextMenuRenderer = module.default;
                console.log('Current clipboard:', ContextMenuRenderer.clipboard);
            });
        });

        // Log clipboard state every 2 seconds
        setInterval(() => {
            import('./ui/ContextMenuRenderer.js').then(module => {
                const ContextMenuRenderer = module.default;
                if (ContextMenuRenderer.clipboard.items.length > 0) {
                    console.log('[Monitor] Clipboard has', ContextMenuRenderer.clipboard.items.length, 'items');
                }
            });
        }, 2000);
    </script>
</body>
</html>
